# üî• –î–µ–Ω—å 9. MCP - –ü–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

## üìã –ò—Å—Ö–æ–¥–Ω–∞—è –∑–∞–¥–∞—á–∞

> **–î–µ–Ω—å 9. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ MCP**
>
> –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MCP SDK/–∫–ª–∏–µ–Ω—Ç (–∏–ª–∏ –ø–æ–¥–Ω–∏–º–∏—Ç–µ MCP-—Å–µ—Ä–≤–µ—Ä, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)
>
> –ù–∞–ø–∏—à–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç MCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç –Ω–µ–≥–æ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
>
> **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ MCP

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. ‚úÖ **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω MCP SDK** - `@modelcontextprotocol/sdk`
2. ‚úÖ **–°–æ–∑–¥–∞–Ω MCP-—Å–µ—Ä–≤–µ—Ä** - `mcp/server.js`
3. ‚úÖ **–°–æ–∑–¥–∞–Ω MCP-–∫–ª–∏–µ–Ω—Ç** - `mcp/client.js`
4. ‚úÖ **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** - –∫–ª–∏–µ–Ω—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —ç—Ç–æ
5. ‚úÖ **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–∞** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è MCP –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
6. ‚úÖ **Docker –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
7. ‚úÖ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - 4 MD —Ñ–∞–π–ª–∞ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏

---

## üöÄ –ó–∞–ø—É—Å–∫ —Ä–µ—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë—ã—Å—Ç—Ä–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è (0 —Å–µ–∫—É–Ω–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏)

```bash
npm run mcp-demo
```

–∏–ª–∏

```bash
node mcp/test-simple.js
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üîß MCP –ò–ù–°–¢–†–£–ú–ï–ù–¢–´ - Character Analyzer
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

1. üì¶ analyze_characters
2. üì¶ summarize_text
3. üì¶ estimate_tokens
4. üì¶ check_token_limit

‚ú® –í—Å–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: 4
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
npm install

# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å MCP —Å–µ—Ä–≤–µ—Ä
npm run mcp-server

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
npm run mcp-client
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –∫–ª–∏–µ–Ω—Ç–∞:**
```
üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MCP —Å–µ—Ä–≤–µ—Ä—É...
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ MCP —Å–µ—Ä–≤–µ—Ä—É!

üìã –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤...

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üîß –î–û–°–¢–£–ü–ù–´–ï –ò–ù–°–¢–†–£–ú–ï–ù–¢–´ MCP
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

1. üì¶ analyze_characters
   üìù –û–ø–∏—Å–∞–Ω–∏–µ: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç —Ä–∞—Å—Å–∫–∞–∑–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 
       —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π —Å –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏...
   üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
      ‚Ä¢ text (string) - ‚ö†Ô∏è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
        –¢–µ–∫—Å—Ç —Ä–∞—Å—Å–∫–∞–∑–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
      ‚Ä¢ autoSummarize (boolean) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π
        –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—É–º–º–∞—Ä–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ—Å–ª–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç
        –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: true

[... –æ—Å—Ç–∞–ª—å–Ω—ã–µ 3 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ ...]

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚ú® –í—Å–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: 4

üéØ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø: –í—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìù –¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç:
   "–ú–∞—à–∞ —à–ª–∞ –ø–æ –ª–µ—Å—É. –í–¥—Ä—É–≥ –æ–Ω–∞ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∞ –≤–æ–ª–∫–∞ –ø–æ –∏–º–µ–Ω–∏ –°–µ—Ä—ã–π."

üîç –í—ã–∑–æ–≤: estimate_tokens

üìä –†–µ–∑—É–ª—å—Ç–∞—Ç:
   –¢–æ–∫–µ–Ω–æ–≤: 24
   –°–∏–º–≤–æ–ª–æ–≤: 60
   –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: 2.50 —Å–∏–º–≤–æ–ª–æ–≤/—Ç–æ–∫–µ–Ω
   –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: 0.01‚ÇΩ

üîç –í—ã–∑–æ–≤: check_token_limit

üìä –†–µ–∑—É–ª—å—Ç–∞—Ç:
   –¢–æ–∫–µ–Ω–æ–≤: 24 / 6000
   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ: 0.4%
   –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç: –ù–µ—Ç ‚úÖ
   –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¢–µ–∫—Å—Ç –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –ª–∏–º–∏—Ç

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã MCP:

```
mcp/
‚îú‚îÄ‚îÄ server.js          # ‚≠ê MCP —Å–µ—Ä–≤–µ—Ä - –æ—Å–Ω–æ–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ client.js          # ‚≠ê MCP –∫–ª–∏–µ–Ω—Ç - –¥–µ–º–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îî‚îÄ‚îÄ test-simple.js     # ‚≠ê –ë—ã—Å—Ç—Ä–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

```
MCP-GUIDE.md           # –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: —á—Ç–æ —Ç–∞–∫–æ–µ MCP, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω
MCP-SUMMARY.md         # –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏
README-MCP.md          # –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π README —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
INSTALL-MCP.md         # –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
COMPLETE-SOLUTION.md   # –≠—Ç–æ—Ç —Ñ–∞–π–ª - –æ–±–∑–æ—Ä —Ä–µ—à–µ–Ω–∏—è
```

### Docker:

```
Dockerfile.mcp         # Docker –æ–±—Ä–∞–∑ –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–∞
docker-compose.mcp.yml # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

---

## üíª –ö–æ–¥ —Ä–µ—à–µ–Ω–∏—è

### MCP –°–µ—Ä–≤–µ—Ä (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)

```javascript
// mcp/server.js
import { Server } from '@modelcontextprotocol/sdk/server/index.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';

const server = new Server({
  name: 'character-analyzer-mcp-server',
  version: '1.0.0'
}, {
  capabilities: { tools: {} }
});

// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
server.setRequestHandler(ListToolsRequestSchema, async () => {
  return {
    tools: [
      {
        name: 'analyze_characters',
        description: '–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –≤ —Ç–µ–∫—Å—Ç–µ',
        inputSchema: { /* ... */ }
      },
      // ... –µ—â–µ 3 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
    ]
  };
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–∑–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const { name, arguments: args } = request.params;
  
  switch (name) {
    case 'analyze_characters':
      return await analyzer.analyzeCharacters(args.text);
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
  }
});

// –ó–∞–ø—É—Å–∫
const transport = new StdioServerTransport();
await server.connect(transport);
```

### MCP –ö–ª–∏–µ–Ω—Ç (–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è)

```javascript
// mcp/client.js
import { Client } from '@modelcontextprotocol/sdk/client/index.js';

const client = new Client({
  name: 'character-analyzer-mcp-client',
  version: '1.0.0'
});

// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
await client.connect(transport);

// ‚≠ê –ü–û–õ–£–ß–ï–ù–ò–ï –°–ü–ò–°–ö–ê –ò–ù–°–¢–†–£–ú–ï–ù–¢–û–í ‚≠ê
const toolsResponse = await client.listTools();

console.log('–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:');
toolsResponse.tools.forEach(tool => {
  console.log(`- ${tool.name}: ${tool.description}`);
});

// –í—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
const result = await client.callTool({
  name: 'estimate_tokens',
  arguments: { text: '–¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç' }
});
```

---

## üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ MCP –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

### –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:

**MCP = USB –¥–ª—è AI**

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Telegram, CLI, Web) –ø–∏—Å–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é, –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –æ–¥–∏–Ω MCP —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ.

### –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞–µ—Ç:

#### 1. –§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

**–ë—ã–ª–æ:**
```
Telegram Bot ‚îÄ‚Üí –ö–∞—Å—Ç–æ–º–Ω—ã–π API
CLI Tool ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí –°–≤–æ–π —Ñ–æ—Ä–º–∞—Ç  
Web App ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí –ï—â–µ –æ–¥–∏–Ω API
Claude ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å
```

**–°—Ç–∞–ª–æ:**
```
         MCP Server
            ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚Üì       ‚Üì        ‚Üì
Telegram  CLI    Claude
  Bot    Tool   Desktop
```

#### 2. –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è LLM

LLM –Ω—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º. MCP - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± –∏—Ö –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å.

#### 3. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

–ù–∞–ø–∏—Å–∞–ª–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –æ–¥–∏–Ω —Ä–∞–∑ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤–µ–∑–¥–µ:
- –í Telegram –±–æ—Ç–µ
- –í Claude Desktop
- –í CLI —É—Ç–∏–ª–∏—Ç–µ
- –í Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –í VS Code —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏

---

## üèóÔ∏è –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–∞

### –ë—ã–ª–æ (–º–æ–Ω–æ–ª–∏—Ç):

```javascript
// index.js - –≤—Å—ë –≤–º–µ—Å—Ç–µ
bot.on('text', async (ctx) => {
  const text = ctx.message.text;
  const result = await analyzer.analyzeCharacters(text);
  await ctx.reply(result);
});
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ Telegram
- –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
- –ù–µ–ª—å–∑—è –≤—ã–∑–≤–∞—Ç—å –∏–∑ Claude Desktop

### –°—Ç–∞–ª–æ (–º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞):

```javascript
// agents/CharacterAnalyzerAgent.js - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
export class CharacterAnalyzerAgent {
  async analyzeCharacters(text) { /* ... */ }
}

// mcp/server.js - MCP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π)
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  return await analyzer.analyzeCharacters(request.params.arguments.text);
});

// index.js - Telegram –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π)
bot.on('text', async (ctx) => {
  // –í—ã–∑—ã–≤–∞–µ—Ç —Ç–æ—Ç –∂–µ –∞–≥–µ–Ω—Ç
});
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ—Ç–¥–µ–ª–µ–Ω–∞
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π MCP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–¥–µ —É–≥–æ–¥–Ω–æ
- ‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

---

## üîß 4 MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

### 1. analyze_characters
–ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π —Å –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –ø–æ—Ä—Ç—Ä–µ—Ç–∞–º–∏

**–í—Ö–æ–¥:** `{ text: "—Ä–∞—Å—Å–∫–∞–∑...", autoSummarize: true }`
**–í—ã—Ö–æ–¥:** –°–ø–∏—Å–æ–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π + —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### 2. summarize_text
–°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤

**–í—Ö–æ–¥:** `{ text: "–¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç...", chunkSize: 2000 }`
**–í—ã—Ö–æ–¥:** –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ + –º–µ—Ç—Ä–∏–∫–∏ —Å–∂–∞—Ç–∏—è

### 3. estimate_tokens
–û—Ü–µ–Ω–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–∫–µ–Ω–æ–≤

**–í—Ö–æ–¥:** `{ text: "–ª—é–±–æ–π —Ç–µ–∫—Å—Ç" }`
**–í—ã—Ö–æ–¥:** –¢–æ–∫–µ–Ω—ã, —Å–∏–º–≤–æ–ª—ã, —Å—Ç–æ–∏–º–æ—Å—Ç—å

### 4. check_token_limit
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞

**–í—Ö–æ–¥:** `{ text: "—Ç–µ–∫—Å—Ç", limit: 6000 }`
**–í—ã—Ö–æ–¥:** –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏ –ª–∏–º–∏—Ç + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

---

## üê≥ Docker

–ó–∞–ø—É—Å–∫ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:

```bash
# Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker-compose -f docker-compose.mcp.yml up

# –û–±—ã—á–Ω—ã–π Docker
docker build -f Dockerfile.mcp -t mcp-server .
docker run -it -e YANDEX_API_KEY=xxx -e YANDEX_FOLDER_ID=yyy mcp-server
```

---

## üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude Desktop

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Claude:
   ```bash
   # macOS
   ~/Library/Application Support/Claude/claude_desktop_config.json
   ```

2. –î–æ–±–∞–≤—å—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä:
   ```json
   {
     "mcpServers": {
       "character-analyzer": {
         "command": "node",
         "args": ["/absolute/path/to/mcp/server.js"],
         "env": {
           "YANDEX_API_KEY": "your_key",
           "YANDEX_FOLDER_ID": "your_folder"
         }
       }
     }
   }
   ```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Claude

4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
   ```
   –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –≤ —Ç–µ–∫—Å—Ç–µ: "–ú–∞—à–∞ –∏ –≤–æ–ª–∫..."
   ```

Claude –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑–æ–≤–µ—Ç –≤–∞—à MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç!

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –î–æ –∏ –ü–æ—Å–ª–µ MCP

| –ê—Å–ø–µ–∫—Ç | –î–æ MCP | –ü–æ—Å–ª–µ MCP |
|--------|--------|-----------|
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** | Telegram Only | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è |
| **Claude Desktop** | ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ | ‚úÖ –ù–∞—Ç–∏–≤–Ω–æ |
| **–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –¥–æ—Å—Ç—É–ø** | ‚ùå –°–ª–æ–∂–Ω–æ | ‚úÖ –õ–µ–≥–∫–æ |
| **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è** | ‚ùå –ö–∞—Å—Ç–æ–º–Ω—ã–π API | ‚úÖ MCP –ø—Ä–æ—Ç–æ–∫–æ–ª |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | ‚ùå –í—Ä—É—á–Ω—É—é | ‚úÖ –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è |
| **–í–∞–ª–∏–¥–∞—Ü–∏—è** | ‚ùå –†—É—á–Ω–∞—è | ‚úÖ Zod —Å—Ö–µ–º—ã |
| **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | ‚ùå –ù–µ—Ç | ‚úÖ –í–µ–∑–¥–µ |

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞:
- **INSTALL-MCP.md** - –ø–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è:
- **MCP-GUIDE.md** - —á—Ç–æ —Ç–∞–∫–æ–µ MCP, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- **README-MCP.md** - –ø—Ä–∏–º–µ—Ä—ã, API, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –î–ª—è —Ä–µ–∑—é–º–µ:
- **MCP-SUMMARY.md** - –∫—Ä–∞—Ç–∫–∏–µ –∏—Ç–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏
- **COMPLETE-SOLUTION.md** - —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏

- [x] **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω MCP SDK** - `@modelcontextprotocol/sdk`
- [x] **–°–æ–∑–¥–∞–Ω MCP —Å–µ—Ä–≤–µ—Ä** - `mcp/server.js`
- [x] **–°–æ–∑–¥–∞–Ω MCP –∫–ª–∏–µ–Ω—Ç** - `mcp/client.js`
- [x] **–ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** - `listTools()`
- [x] **–ö–ª–∏–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** - `callTool()`
- [x] **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–∞** - –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [x] **Docker –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - Dockerfile + docker-compose
- [x] **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - 5 MD —Ñ–∞–π–ª–æ–≤
- [x] **–î–µ–º–æ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - `test-simple.js`
- [x] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude Desktop** - –∫–æ–Ω—Ñ–∏–≥ –≤ README

---

## üöÄ –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ó–∞–ø—Ä–æ—Å–∏–ª–∏:
> –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ MCP

### –ü–æ–ª—É—á–∏–ª–∏:
1. **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä** —Å 4 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
2. **–†–∞–±–æ—á–∏–π MCP –∫–ª–∏–µ–Ω—Ç** —Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–µ–π
3. **–ü—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç** –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
4. **Docker –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é** –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
5. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–∞** –ø–æ–¥ –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
6. **–ü–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –Ω–∞ 1500+ —Å—Ç—Ä–æ–∫
7. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Claude Desktop** - ready to use

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
# –ú–∏–Ω–∏–º—É–º (–±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏)
node mcp/test-simple.js

# –ü–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
npm install
npm run mcp-client
```

---

## üéì –ì–ª–∞–≤–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ü—Ä–æ–µ–∫—Ç —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –∏–∑ —É–∑–∫–æ—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ Telegram-–±–æ—Ç–∞ –≤ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é MCP-–ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–æ–≤, —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å Claude Desktop –∏ –ª—é–±—ã–º–∏ MCP-–∫–ª–∏–µ–Ω—Ç–∞–º–∏.**

–≠—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ:
- ‚úÖ –ß—Ç–æ —Ç–∞–∫–æ–µ MCP –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω
- ‚úÖ –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å MCP —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ö–∞–∫ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –ø–æ–¥ MCP
- ‚úÖ –ö–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Claude Desktop
- ‚úÖ –ö–∞–∫ —É–ø–∞–∫–æ–≤–∞—Ç—å –≤ Docker

**–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Å –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.** üéâ

